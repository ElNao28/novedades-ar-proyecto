import{a as I,d as be}from"./chunk-MMP27SLI.js";import"./chunk-P3Z6LA3E.js";import"./chunk-SM2B2YZU.js";import{$ as K,$a as fe,C as f,D as d,Da as V,Ea as p,G as o,Ga as T,H as r,Ha as L,I as s,Ia as B,J as h,K as x,Ka as C,L as u,Ma as q,N as S,Oa as P,Pa as M,Qa as $,Ra as U,S as l,Sa as j,T as D,Ta as A,Ua as ue,Wa as O,Y,_ as me,aa as w,ba as de,c as ae,ca as pe,f as le,g as H,ha as Q,i as se,ja as ce,k as y,ka as W,l as J,la as re,na as k,o as v,p as _,qa as E,x as m,y as g}from"./chunk-I4SIAQ55.js";var F=(()=>{let i=class i{constructor(n){this.http=n,this.urlApi="https://back-novedadesar-production.up.railway.app/"}getProfile(n){return this.http.get(`${this.urlApi}users/profile/`+n)}getDataPersonal(n){return this.http.get(`${this.urlApi}users/profile/personal/`+n)}updateUserPersonal(n,t){return this.http.patch(`${this.urlApi}users/profile/update-user/`+n,t)}getDataCuenta(n){return this.http.get(`${this.urlApi}users/profile/cuenta/`+n)}updateUserCuenta(n,t){return this.http.patch(`${this.urlApi}users/profile/update-user/`+n,t)}getDataSeguridad(n){return this.http.get(`${this.urlApi}users/profile/seguridad/`+n)}updateUserSeguridad(n,t){return this.http.patch(`${this.urlApi}users/profile/update-user/`+n,t)}updateUserPassword(n,t){return this.http.patch(`${this.urlApi}users/profile/update-user/`+n,t)}getDataUbicacion(n){return this.http.get(`${this.urlApi}users/profile/ubicacion/`+n)}getDataCopomex(n){return this.http.get("https://api.copomex.com/query/info_cp/"+n+"?type=simplified&token=pruebas")}updateUserUbicacion(n,t){return this.http.patch(`${this.urlApi}users/ubicacion/`+n,t)}getVentas(n){return this.http.get(`${this.urlApi}ventas/`+n)}};i.\u0275fac=function(t){return new(t||i)(se(pe))},i.\u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function Ie(e,i){e&1&&s(0,"app-loader")}function Fe(e,i){if(e&1&&(o(0,"div",2)(1,"div",3)(2,"h2",4),l(3,"Mi cuenta"),r(),o(4,"div",5)(5,"div",6),s(6,"i",7),o(7,"p"),l(8,"Mis compras"),r()(),o(9,"div",8),s(10,"i",9),o(11,"p"),l(12,"Favoritos"),r()(),o(13,"div",8),s(14,"i",10),o(15,"p"),l(16,"Comentarios"),r()(),o(17,"div",8),s(18,"i",11),o(19,"p",12),l(20,"Desactivar cuenta"),r()()()(),o(21,"div",13)(22,"div",14),s(23,"img",15),o(24,"div")(25,"p",16),l(26),r(),o(27,"p",17),l(28),r()()(),s(29,"hr",18),o(30,"div",19)(31,"div",20),s(32,"i",21),o(33,"div")(34,"p",22),l(35,"Datos personales"),r(),o(36,"p",23),l(37,"Informacion de tu persona: nombre, apellidos,fecha de nacimiento."),r()()(),s(38,"i",24),r(),o(39,"div",19)(40,"div",20),s(41,"i",25),o(42,"div")(43,"p",22),l(44,"Datos de tu cuenta"),r(),o(45,"p",23),l(46,"Informacion de tu cuenta: correo, contrase\xF1a, numero de telefono."),r()()(),s(47,"i",24),r(),o(48,"div",19)(49,"div",20),s(50,"i",26),o(51,"div")(52,"p",22),l(53,"Seguridad de tu cuenta"),r(),o(54,"p",23),l(55,"Metodos de seguridad de tu cuenta: pregunta secreta."),r()()(),s(56,"i",24),r(),o(57,"div",19)(58,"div",20),s(59,"i",27),o(60,"div")(61,"p",22),l(62,"Datos de envio"),r(),o(63,"p",23),l(64,"Tu ubicacion: estado, municipio, colonia, cp, referencia."),r()()(),s(65,"i",24),r()()()),e&2){let a=u();m(5),S("routerLink","/profile/",a.idUser,"/mis-compras"),m(21),D(a.name.toUpperCase()),m(2),D(a.email),m(2),S("routerLink","/profile/",a.idUser,"/personal"),m(9),S("routerLink","/profile/",a.idUser,"/cuenta"),m(9),S("routerLink","/profile/",a.idUser,"/seguridad"),m(9),S("routerLink","/profile/",a.idUser,"/ubicacion")}}var ge=(()=>{let i=class i{constructor(n,t,c){this.profileService=n,this.activateLink=t,this.router=c,this.isLoader=!0,this.email="",this.name="",this.idUser=""}ngOnInit(){let n=localStorage.getItem("token"),t=this.activateLink.snapshot.paramMap.get("id");n!==null&&(t!==n&&this.router.navigate(["/404"]),this.idUser=n,this.profileService.getProfile(n).subscribe(c=>{c.status===200&&(this.email=c.email,this.name=c.name,setTimeout(()=>{this.isLoader=!1},500))}))}};i.\u0275fac=function(t){return new(t||i)(g(F),g(Q),g(ce))},i.\u0275cmp=y({type:i,selectors:[["app-view-profile"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","flex gap-40",4,"ngIf"],[1,"flex","gap-40"],[1,"bg-white","w-1/5","rounded-md","shadow-md"],[1,"text-center"],[1,"pl-2"],[1,"flex","items-center","gap-3","hover:opacity-80","cursor-pointer",3,"routerLink"],[1,"pi","pi-shopping-bag","text-xl","text-blue-700"],[1,"flex","items-center","gap-3","hover:opacity-80","cursor-pointer"],[1,"pi","pi-heart-fill","text-xl","text-blue-700"],[1,"pi","pi-comment","text-xl","text-blue-700"],[1,"pi","pi-ban","text-xl","text-red-700"],[1,"text-red-700"],[1,"bg-white","w-3/5","mt-5","rounded-md","px-8","py-4","shadow-md","mb-5"],[1,"flex","gap-4","items-center"],["src","../.././../../../assets/img/user-icon.png","alt","perfil",1,"h-20","cursor-pointer"],[1,"text-xl","p-0","m-0"],[1,"p-0","m-0"],[1,"opacity-50","mb-8"],[1,"flex","items-center","justify-between","cursor-pointer","mb-8","hover:opacity-80",3,"routerLink"],[1,"flex","items-center","gap-5"],[1,"pi","pi-id-card","text-2xl","text-blue-700"],[1,"m-0","pb-1","text-md"],[1,"p-0","m-0","text-sm","text-gray-600"],[1,"pi","pi-chevron-right","mr-10","text-xl","text-gray-500"],[1,"pi","pi-user","text-2xl","text-blue-700"],[1,"pi","pi-lock","text-2xl","text-blue-700"],[1,"pi","pi-truck","text-2xl","text-blue-700"]],template:function(t,c){t&1&&f(0,Ie,1,0,"app-loader",0)(1,Fe,66,7,"div",1),t&2&&(d("ngIf",c.isLoader),m(),d("ngIf",!c.isLoader))},dependencies:[w,W,I]});let e=i;return e})();function Ee(e,i){e&1&&s(0,"app-loader")}function Ne(e,i){if(e&1&&(o(0,"div",15)(1,"div",16),s(2,"img",17),o(3,"div",18)(4,"p",19),l(5),r(),o(6,"p",20),l(7,"Entregado el dia 10 de Noviembre"),r(),o(8,"p",21),l(9,"Entregado"),r()()(),o(10,"div")(11,"button",22),l(12,"Ver detalles"),r()()()),e&2){let a=i.$implicit;m(5),D(a.producto.nombre_producto)}}function De(e,i){if(e&1&&(o(0,"div",10)(1,"div",11)(2,"div")(3,"p",12),l(4),r(),s(5,"hr",13),r(),f(6,Ne,13,1,"div",14),r()()),e&2){let a=i.$implicit;m(4),D(a.fecha_venta),m(2),d("ngForOf",a.detallesVenta)}}function ke(e,i){if(e&1&&(o(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2"),l(4,"Mis compras"),r(),o(5,"div",5)(6,"label",6),l(7,"Ordenar por"),r(),o(8,"select",7)(9,"option",8),l(10,"Fecha"),r(),o(11,"option",8),l(12,"Precio"),r()()()(),f(13,De,7,2,"div",9),r()()),e&2){let a=u();m(13),d("ngForOf",a.dataVentas.detallesVenta)}}var ve=(()=>{let i=class i{constructor(n){this.profileService=n,this.isLoader=!0,this.dataVentas={status:200,detallesVenta:[{id:59,total_venta:245,fecha_venta:"2024-04-05",detallesVenta:[{id:80,cantidad:1,descuento:0,precio:245,sub_total:0,producto:{id:1,nombre_producto:"Blusa sin mangas",precio:245,descripccion:"Blusa color naranja sin mangas",stock:38,categoria:"M",rating:0,descuento:8,status:"activo"}}]}]}}ngOnInit(){let n=localStorage.getItem("token");n!==null&&this.profileService.getVentas(parseInt(n)).subscribe(t=>{this.dataVentas=t,setTimeout(()=>{this.isLoader=!1},500)})}};i.\u0275fac=function(t){return new(t||i)(g(F))},i.\u0275cmp=y({type:i,selectors:[["app-mis-compras"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","flex justify-center",4,"ngIf"],[1,"flex","justify-center"],[1,"w-4/5","rounded-md","my-5"],[1,"flex","justify-between","items-center"],[1,"flex","items-center","gap-3"],["for",""],["name","","id","",1,"rounded-md","border-none"],["value",""],["class","bg-white rounded-md mb-5",4,"ngFor","ngForOf"],[1,"bg-white","rounded-md","mb-5"],[1,"pt-1","pb-2"],[1,"px-4"],[1,"opacity-50"],["class","px-8 flex items-center justify-between mb-5",4,"ngFor","ngForOf"],[1,"px-8","flex","items-center","justify-between","mb-5"],[1,"flex","items-center","gap-5"],["src","../../.../../../.././../assets/img/user-icon.png","alt","",1,"w-32"],[1,""],[1,"text-xl","p-0","m-0"],[1,"text-md","text-gray-600"],[1,"text-green-500","text-sm"],["pButton",""]],template:function(t,c){t&1&&f(0,Ee,1,0,"app-loader",0)(1,ke,14,1,"div",1),t&2&&(d("ngIf",c.isLoader),m(),d("ngIf",!c.isLoader))},dependencies:[K,w,U,j,E,I]});let e=i;return e})();var te=e=>({"text-green-400":e}),G=(()=>{let i=class i{constructor(n){this.activateLink=n,this.idUser="",this.ruta=""}ngOnInit(){let n=localStorage.getItem("token");this.activateLink.url.subscribe(t=>{this.ruta=t[2].path}),n!==null&&(this.idUser=n)}};i.\u0275fac=function(t){return new(t||i)(g(Q))},i.\u0275cmp=y({type:i,selectors:[["app-menu-rutas-profile"]],decls:35,vars:17,consts:[[1,"flex","items-center","gap-1","text-gray-600","cursor-pointer","hover:opacity-80",3,"routerLink"],[1,"pi","pi-arrow-left","text-md"],[1,"text-2xl"],[1,"flex","items-center","justify-between","cursor-pointer","mb-8","hover:opacity-80",3,"routerLink","ngClass"],[1,"flex","items-center","gap-5"],[1,"pi","pi-id-card","text-2xl","text-blue-700"],[1,"m-0","pb-1","text-md"],[1,"pi","pi-chevron-right","mr-10","text-xl","text-gray-500"],[1,"pi","pi-user","text-2xl","text-blue-700"],[1,"pi","pi-lock","text-2xl","text-blue-700"],[1,"pi","pi-truck","text-2xl","text-blue-700"]],template:function(t,c){t&1&&(o(0,"div")(1,"div",0),s(2,"li",1),o(3,"p"),l(4,"Regresar"),r()(),o(5,"h2",2),l(6,"Tu cuenta"),r(),o(7,"div",3)(8,"div",4),s(9,"i",5),o(10,"div")(11,"p",6),l(12,"Datos personales"),r()()(),s(13,"i",7),r(),o(14,"div",3)(15,"div",4),s(16,"i",8),o(17,"div")(18,"p",6),l(19,"Datos de tu cuenta"),r()()(),s(20,"i",7),r(),o(21,"div",3)(22,"div",4),s(23,"i",9),o(24,"div")(25,"p",6),l(26,"Seguridad de tu cuenta"),r()()(),s(27,"i",7),r(),o(28,"div",3)(29,"div",4),s(30,"i",10),o(31,"div")(32,"p",6),l(33,"Datos de envio"),r()()(),s(34,"i",7),r()()),t&2&&(m(),S("routerLink","/profile/",c.idUser,""),m(6),S("routerLink","/profile/",c.idUser,"/personal"),d("ngClass",Y(9,te,c.ruta==="personal")),m(7),S("routerLink","/profile/",c.idUser,"/cuenta"),d("ngClass",Y(11,te,c.ruta==="cuenta")),m(7),S("routerLink","/profile/",c.idUser,"/seguridad"),d("ngClass",Y(13,te,c.ruta==="seguridad")),m(7),S("routerLink","/profile/",c.idUser,"/ubicacion"),d("ngClass",Y(15,te,c.ruta==="ubicacion")))},dependencies:[me,W]});let e=i;return e})();function Ve(e,i){e&1&&s(0,"app-loader")}function Te(e,i){if(e&1&&s(0,"input",19),e&2){let a=u(2);d("value",a.dataForm.gender)}}function Le(e,i){e&1&&(o(0,"select",20)(1,"option",21),l(2,"Masculino"),r(),o(3,"option",22),l(4,"Femenino"),r()())}function Be(e,i){if(e&1){let a=h();o(0,"button",23),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnName(1))}),s(1,"i",24),l(2,"Editar "),r()}}function qe(e,i){if(e&1){let a=h();o(0,"button",25),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnName(3))}),s(1,"i",26),l(2,"Guardar "),r()}}function Pe(e,i){if(e&1){let a=h();o(0,"button",27),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnName(2))}),s(1,"i",28),l(2,"Cancelar "),r()}}function Me(e,i){if(e&1&&(o(0,"div",2),s(1,"app-menu-rutas-profile",3),o(2,"div",4)(3,"h2",5),l(4,"Informacion personal"),r(),o(5,"form",6)(6,"div",7)(7,"label",8),l(8,"Nombre"),r(),s(9,"input",9),r(),o(10,"div",7)(11,"label",8),l(12,"Apellido paterno"),r(),s(13,"input",10),r(),o(14,"div",7)(15,"label",8),l(16,"Apellido materno"),r(),s(17,"input",11),r(),o(18,"div",7)(19,"label",8),l(20,"Genero"),r(),f(21,Te,1,1,"input",12)(22,Le,5,0,"select",13),r(),o(23,"div",7)(24,"label",8),l(25,"Fecha de nacimiento"),r(),s(26,"input",14),r(),o(27,"div",15),f(28,Be,3,0,"button",16)(29,qe,3,0,"button",17)(30,Pe,3,0,"button",18),r()()(),s(31,"p-toast"),r()),e&2){let a=u();m(5),d("formGroup",a.nameForm),m(16),d("ngIf",a.editName),m(),d("ngIf",!a.editName),m(6),d("ngIf",a.editName),m(),d("ngIf",!a.editName),m(),d("ngIf",!a.editName)}}var _e=(()=>{let i=class i{constructor(n,t,c){this.fb=n,this.profileService=t,this.messageService=c,this.isLoader=!0,this.editName=!0,this.dataForm={status:0,name:"",lastname:"",motherLastname:"",gender:"",birthdate:""},this.nameForm=new B({name:new C("",[p.required]),lastname:new C("",[p.required]),motherLastname:new C("",[p.required]),gender:new C("",[p.required]),birthdate:new C("",[p.required])})}ngOnInit(){let n=localStorage.getItem("token");n!==null&&this.profileService.getDataPersonal(n).subscribe(t=>{this.dataForm=t,this.nameForm=this.fb.group({name:[{value:t.name.toUpperCase(),disabled:!0},[p.required,p.minLength(3)]],lastname:[{value:t.lastname.toUpperCase(),disabled:!0},[p.required,p.minLength(3)]],motherLastname:[{value:t.motherLastname.toUpperCase(),disabled:!0},[p.required,p.minLength(3)]],gender:[{value:t.gender.toUpperCase(),disabled:!0},[p.required]],birthdate:[{value:t.birthdate,disabled:!0},[p.required,this.validateAge.bind(this)]]}),setTimeout(()=>{this.isLoader=!1},500)})}validateAge(n){let t=new Date(n.value);return new Date().getFullYear()-t.getFullYear()>=18?null:{underage:!0}}chamgeStateBtnName(n){switch(n){case 1:this.nameForm.controls.name.enable(),this.nameForm.controls.lastname.enable(),this.nameForm.controls.motherLastname.enable(),this.nameForm.controls.gender.enable(),this.nameForm.controls.birthdate.enable(),this.editName=!this.editName;break;case 2:this.editName=!this.editName,this.nameForm.controls.name.disable(),this.nameForm.controls.lastname.disable(),this.nameForm.controls.motherLastname.disable(),this.nameForm.controls.gender.disable(),this.nameForm.controls.birthdate.disable(),this.nameForm.setValue({name:this.dataForm.name.toUpperCase(),lastname:this.dataForm.lastname.toUpperCase(),motherLastname:this.dataForm.motherLastname.toUpperCase(),gender:this.dataForm.gender.toUpperCase(),birthdate:this.dataForm.birthdate.toUpperCase()});break;case 3:let t=localStorage.getItem("token");t!==null&&this.profileService.updateUserPersonal(t,this.nameForm.value).subscribe(c=>{c.status===200&&(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Datos actualizados correctamente"}),this.profileService.getDataPersonal(t).subscribe(b=>{this.dataForm=b,this.nameForm=this.fb.group({name:[{value:b.name.toUpperCase(),disabled:!0},[p.required,p.minLength(3)]],lastname:[{value:b.lastname.toUpperCase(),disabled:!0},[p.required,p.minLength(3)]],motherLastname:[{value:b.motherLastname.toUpperCase(),disabled:!0},[p.required,p.minLength(3)]],gender:[{value:b.gender.toUpperCase(),disabled:!0},[p.required]],birthdate:[{value:b.birthdate,disabled:!0},[p.required,this.validateAge.bind(this)]]})}),this.editName=!this.editName)});break}}};i.\u0275fac=function(t){return new(t||i)(g(A),g(F),g(k))},i.\u0275cmp=y({type:i,selectors:[["app-data-personal"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","flex justify-between",4,"ngIf"],[1,"flex","justify-between"],[1,"bg-white","py-5","pl-4","w-1/5"],[1,"bg-white","w-3/5","px-5","py-5","rounded-md","shadow-lg","my-5"],[1,"text-3xl"],[1,"grid",3,"formGroup"],[1,"mb-5"],["for",""],["type","text","formControlName","name",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],["type","text","formControlName","lastname",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],["type","text","formControlName","motherLastname",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],["type","text","class","border-t-0 border-x-0 border-b-1 w-full border-b-gray-200","disabled","",3,"value",4,"ngIf"],["formControlName","gender","class","border-t-0 border-x-0 border-b-1 w-full border-b-gray-200",4,"ngIf"],["type","date","formControlName","birthdate",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],[1,"mb-3","flex","justify-end","gap-3"],["pButton","","class","bg-red-500 gap-1",3,"click",4,"ngIf"],["pButton","","class","bg-blue-500 gap-1",3,"click",4,"ngIf"],["pButton","","class","bg-yellow-500 gap-1",3,"click",4,"ngIf"],["type","text","disabled","",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200",3,"value"],["formControlName","gender",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],["value","M"],["value","F"],["pButton","",1,"bg-red-500","gap-1",3,"click"],[1,"pi","pi-pencil"],["pButton","",1,"bg-blue-500","gap-1",3,"click"],[1,"pi","pi-save"],["pButton","",1,"bg-yellow-500","gap-1",3,"click"],[1,"pi","pi-times-circle"]],template:function(t,c){t&1&&f(0,Ve,1,0,"app-loader",0)(1,Me,32,6,"div",1),t&2&&(d("ngIf",c.isLoader),m(),d("ngIf",!c.isLoader))},dependencies:[w,q,U,j,V,$,T,L,P,M,E,O,I,G]});let e=i;return e})();function Ue(e,i){e&1&&s(0,"app-loader")}function je(e,i){if(e&1){let a=h();o(0,"button",15),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnName(1))}),s(1,"i",16),l(2,"Editar "),r()}}function Ae(e,i){if(e&1){let a=h();o(0,"button",17),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnName(3))}),s(1,"i",18),l(2,"Guardar "),r()}}function Oe(e,i){if(e&1){let a=h();o(0,"button",19),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnName(2))}),s(1,"i",20),l(2,"Cancelar "),r()}}function Ge(e,i){if(e&1&&(o(0,"div",2),s(1,"app-menu-rutas-profile",3),o(2,"div",4)(3,"h2",5),l(4,"Informacion de tu cuenta"),r(),o(5,"form",6)(6,"div",7)(7,"label",8),l(8,"Correo"),r(),s(9,"input",9),r(),o(10,"div",7)(11,"label",8),l(12,"Numero de telefono"),r(),s(13,"input",10),r(),o(14,"div",11),f(15,je,3,0,"button",12)(16,Ae,3,0,"button",13)(17,Oe,3,0,"button",14),r()()(),s(18,"p-toast"),r()),e&2){let a=u();m(5),d("formGroup",a.cuentaForm),m(10),d("ngIf",a.editName),m(),d("ngIf",!a.editName),m(),d("ngIf",!a.editName)}}var he=(()=>{let i=class i{constructor(n,t,c){this.fb=n,this.profileService=t,this.messageService=c,this.isLoader=!0,this.editName=!0,this.dataForm={status:0,email:"",cellphone:""},this.cuentaForm=new B({email:new C("",[p.required]),cellphone:new C("",[p.required])})}ngOnInit(){let n=localStorage.getItem("token");n!==null&&this.profileService.getDataCuenta(n).subscribe(t=>{this.dataForm=t,this.cuentaForm=this.fb.group({email:[{value:t.email,disabled:!0},[p.required,p.minLength(3)]],cellphone:[{value:t.cellphone,disabled:!0},[p.required,p.minLength(10)]]}),setTimeout(()=>{this.isLoader=!1},500)})}chamgeStateBtnName(n){switch(n){case 1:this.cuentaForm.controls.email.enable(),this.cuentaForm.controls.cellphone.enable(),this.editName=!this.editName;break;case 2:this.editName=!this.editName,this.cuentaForm.controls.email.disable(),this.cuentaForm.controls.cellphone.disable(),this.cuentaForm.setValue({email:this.dataForm.email,cellphone:this.dataForm.cellphone});break;case 3:let t=localStorage.getItem("token");t!==null&&this.profileService.updateUserPersonal(t,this.cuentaForm.value).subscribe(c=>{c.status===200&&(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Datos actualizados correctamente"}),this.profileService.getDataCuenta(t).subscribe(b=>{this.dataForm=b,this.cuentaForm=this.fb.group({email:[{value:b.email,disabled:!0},[p.required,p.minLength(3)]],cellphone:[{value:b.cellphone,disabled:!0},[p.required,p.minLength(3)]]})}),this.editName=!this.editName)});break}}};i.\u0275fac=function(t){return new(t||i)(g(A),g(F),g(k))},i.\u0275cmp=y({type:i,selectors:[["app-data-cuenta"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","flex justify-between",4,"ngIf"],[1,"flex","justify-between"],[1,"bg-white","py-5","pl-4","w-1/5"],[1,"bg-white","w-3/5","px-5","py-5","rounded-md","shadow-lg","my-5"],[1,"text-3xl"],[1,"grid",3,"formGroup"],[1,"mb-5"],["for",""],["type","text","formControlName","email",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],["type","text","formControlName","cellphone",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],[1,"mb-3","flex","justify-end","gap-3"],["pButton","","class","bg-red-500 gap-1",3,"click",4,"ngIf"],["pButton","","class","bg-blue-500 gap-1",3,"click",4,"ngIf"],["pButton","","class","bg-yellow-500 gap-1",3,"click",4,"ngIf"],["pButton","",1,"bg-red-500","gap-1",3,"click"],[1,"pi","pi-pencil"],["pButton","",1,"bg-blue-500","gap-1",3,"click"],[1,"pi","pi-save"],["pButton","",1,"bg-yellow-500","gap-1",3,"click"],[1,"pi","pi-times-circle"]],template:function(t,c){t&1&&f(0,Ue,1,0,"app-loader",0)(1,Ge,19,4,"div",1),t&2&&(d("ngIf",c.isLoader),m(),d("ngIf",!c.isLoader))},dependencies:[w,q,V,T,L,P,M,E,O,I,G]});let e=i;return e})();function $e(e,i){e&1&&s(0,"app-loader")}function Re(e,i){e&1&&s(0,"input",19)}function ze(e,i){e&1&&(o(0,"select",20)(1,"option",21),l(2,"\xBFNombre de su perro?"),r(),o(3,"option",22),l(4,"\xBFComida favortita?"),r(),o(5,"option",23),l(6,"\xBFPelicula favorita?"),r(),o(7,"option",24),l(8,"\xBFColor favorito?"),r()())}function Ye(e,i){e&1&&s(0,"input",19)}function Ze(e,i){e&1&&s(0,"input",25)}function He(e,i){if(e&1){let a=h();o(0,"button",26),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnName(1))}),s(1,"i",27),l(2,"Editar "),r()}}function Je(e,i){if(e&1){let a=h();o(0,"button",28),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnName(3))}),s(1,"i",29),l(2,"Guardar "),r()}}function Ke(e,i){if(e&1){let a=h();o(0,"button",30),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnName(2))}),s(1,"i",31),l(2,"Cancelar "),r()}}function Qe(e,i){e&1&&s(0,"input",19)}function We(e,i){e&1&&s(0,"input",32)}function Xe(e,i){e&1&&(o(0,"label",9),l(1,"Confirma la contrase\xF1a"),r())}function et(e,i){e&1&&s(0,"input",35)}function tt(e,i){if(e&1&&(o(0,"div",8),f(1,Xe,2,0,"label",33)(2,et,1,0,"input",34),r()),e&2){let a=u(2);m(),d("ngIf",!a.editPassword),m(),d("ngIf",!a.editPassword)}}function it(e,i){if(e&1){let a=h();o(0,"button",26),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnPass(1))}),s(1,"i",27),l(2,"Editar "),r()}}function rt(e,i){if(e&1){let a=h();o(0,"button",28),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnPass(3))}),s(1,"i",29),l(2,"Guardar "),r()}}function nt(e,i){if(e&1){let a=h();o(0,"button",30),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnPass(2))}),s(1,"i",31),l(2,"Cancelar "),r()}}function ot(e,i){if(e&1&&(o(0,"div",2),s(1,"app-menu-rutas-profile",3),o(2,"div",4)(3,"h2",5),l(4,"Metodos de seguridad"),r(),o(5,"form",6)(6,"h2",7),l(7,"Pregunta secreta"),r(),o(8,"div",8)(9,"label",9),l(10,"Pregunta"),r(),f(11,Re,1,0,"input",10)(12,ze,9,0,"select",11),r(),o(13,"div",8)(14,"label",9),l(15,"Respuesta"),r(),f(16,Ye,1,0,"input",10)(17,Ze,1,0,"input",12),r(),o(18,"div",13),f(19,He,3,0,"button",14)(20,Je,3,0,"button",15)(21,Ke,3,0,"button",16),r()(),o(22,"form",6)(23,"h2",7),l(24,"Contrase\xF1a de la cuenta"),r(),o(25,"div",8)(26,"label",9),l(27,"Contrase\xF1a"),r(),f(28,Qe,1,0,"input",10)(29,We,1,0,"input",17),r(),f(30,tt,3,2,"div",18),o(31,"div",13),f(32,it,3,0,"button",14)(33,rt,3,0,"button",15)(34,nt,3,0,"button",16),r()()(),s(35,"p-toast"),r()),e&2){let a=u();m(5),d("formGroup",a.seguridadForm),m(6),d("ngIf",a.editName),m(),d("ngIf",!a.editName),m(4),d("ngIf",a.editName),m(),d("ngIf",!a.editName),m(2),d("ngIf",a.editName),m(),d("ngIf",!a.editName),m(),d("ngIf",!a.editName),m(),d("formGroup",a.passForm),m(6),d("ngIf",a.editPassword),m(),d("ngIf",!a.editPassword),m(),d("ngIf",!a.editPassword),m(2),d("ngIf",a.editPassword),m(),d("ngIf",!a.editPassword),m(),d("ngIf",!a.editPassword)}}var xe=(()=>{let i=class i{constructor(n,t,c){this.fb=n,this.profileService=t,this.messageService=c,this.isLoader=!0,this.editName=!0,this.editPassword=!0,this.dataForm={status:0,question:0,answer:""},this.seguridadForm=new B({question:new C("",[p.required]),answer:new C("",[p.required])}),this.passForm=this.fb.group({password:["",[p.required,p.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+{}\[\]:;<>,.?~\\-]).{8,}$/)]],confirmPassword:["",[p.required,p.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+{}\[\]:;<>,.?~\\-]).{8,}$/)]]},{validators:[this.isFieldOneEqualFieldTwo("password","password2")]})}ngOnInit(){let n=localStorage.getItem("token");n!==null&&this.profileService.getDataSeguridad(n).subscribe(t=>{this.dataForm=t,this.seguridadForm=this.fb.group({question:[t.question,[p.required,p.minLength(3)]],answer:[t.answer,[p.required,p.minLength(10)]]}),setTimeout(()=>{this.isLoader=!1},500)})}isFieldOneEqualFieldTwo(n,t){return c=>{let b=c.get(n)?.value,Se=c.get(t)?.value;return b!==Se?(c.get(t)?.setErrors({notEqual:!0}),{notEqual:!0}):(c.get(t)?.setErrors(null),null)}}chamgeStateBtnName(n){switch(n){case 1:this.editName=!this.editName;break;case 2:this.editName=!this.editName,this.seguridadForm.setValue({questionId:this.dataForm.question,answer:this.dataForm.answer});break;case 3:let t=localStorage.getItem("token");t!==null&&this.profileService.updateUserSeguridad(t,this.seguridadForm.value).subscribe(c=>{c.status===200&&(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Datos actualizados correctamente"}),this.profileService.getDataSeguridad(t).subscribe(b=>{this.dataForm=b,this.seguridadForm=this.fb.group({question:[b.question,[p.required,p.minLength(3)]],answer:[b.answer,[p.required,p.minLength(3)]]})}),this.editName=!this.editName)});break}}chamgeStateBtnPass(n){switch(n){case 1:this.editPassword=!this.editPassword;break;case 2:this.editPassword=!this.editPassword,this.seguridadForm.setValue({questionId:this.dataForm.question,answer:this.dataForm.answer});break;case 3:let t=localStorage.getItem("token");t!==null&&this.profileService.updateUserPassword(t,{password:this.passForm.controls.password.value}).subscribe(c=>{c.status===200&&(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Datos actualizados correctamente"}),this.passForm.setValue({password:"",confirmPassword:""}),this.editPassword=!this.editPassword)});break}}};i.\u0275fac=function(t){return new(t||i)(g(A),g(F),g(k))},i.\u0275cmp=y({type:i,selectors:[["app-data-seguridad"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","flex justify-between",4,"ngIf"],[1,"flex","justify-between"],[1,"bg-white","py-5","pl-4","w-1/5"],[1,"bg-white","w-3/5","px-5","py-5","rounded-md","shadow-lg","my-5"],[1,"text-3xl","m-0","p-0"],[1,"grid",3,"formGroup"],[1,"text-xl"],[1,"mb-5"],["for",""],["type","text","value","*******************","disabled","","class","border-t-0 border-x-0 border-b-1 w-full border-b-gray-200",4,"ngIf"],["name","question","class","border-t-0 border-x-0 border-b-1 w-full border-b-gray-200","id","question","formControlName","question",4,"ngIf"],["type","text","formControlName","answer","class","border-t-0 border-x-0 border-b-1 w-full border-b-gray-200",4,"ngIf"],[1,"mb-3","flex","justify-end","gap-3"],["pButton","","class","bg-red-500 gap-1",3,"click",4,"ngIf"],["pButton","","class","bg-blue-500 gap-1",3,"click",4,"ngIf"],["pButton","","class","bg-yellow-500 gap-1",3,"click",4,"ngIf"],["type","text","formControlName","password","class","border-t-0 border-x-0 border-b-1 w-full border-b-gray-200",4,"ngIf"],["class","mb-5",4,"ngIf"],["type","text","value","*******************","disabled","",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],["name","question","id","question","formControlName","question",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],["value","1"],["value","2"],["value","3"],["value","4"],["type","text","formControlName","answer",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],["pButton","",1,"bg-red-500","gap-1",3,"click"],[1,"pi","pi-pencil"],["pButton","",1,"bg-blue-500","gap-1",3,"click"],[1,"pi","pi-save"],["pButton","",1,"bg-yellow-500","gap-1",3,"click"],[1,"pi","pi-times-circle"],["type","text","formControlName","password",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],["for","",4,"ngIf"],["type","text","formControlName","confirmPassword","class","border-t-0 border-x-0 border-b-1 w-full border-b-gray-200",4,"ngIf"],["type","text","formControlName","confirmPassword",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"]],template:function(t,c){t&1&&f(0,$e,1,0,"app-loader",0)(1,ot,36,15,"div",1),t&2&&(d("ngIf",c.isLoader),m(),d("ngIf",!c.isLoader))},dependencies:[w,q,U,j,V,$,T,L,P,M,E,O,I,G]});let e=i;return e})();function at(e,i){e&1&&s(0,"app-loader")}function lt(e,i){if(e&1&&s(0,"input",11),e&2){let a=u(2);d("value",a.dataForm.cp)}}function st(e,i){if(e&1){let a=h();o(0,"input",18),x("keyup",function(){v(a);let t=u(2);return _(t.searchDataByCp())}),r()}}function mt(e,i){if(e&1&&s(0,"input",11),e&2){let a=u(2);d("value",a.ubicacionForm.controls.colonia.value)}}function dt(e,i){if(e&1&&(o(0,"option",21),l(1),r()),e&2){let a=i.$implicit;d("value",a),m(),D(a)}}function pt(e,i){if(e&1&&(o(0,"select",19),f(1,dt,2,2,"option",20),r()),e&2){let a=u(2);m(),d("ngForOf",a.dataByCopomex.response.asentamiento)}}function ct(e,i){if(e&1&&s(0,"input",11),e&2){let a=u(2);d("value",a.dataForm.referencia)}}function ut(e,i){e&1&&s(0,"input",22)}function ft(e,i){if(e&1){let a=h();o(0,"button",23),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnName(1))}),s(1,"i",24),l(2,"Editar "),r()}}function bt(e,i){if(e&1){let a=h();o(0,"button",25),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnName(3))}),s(1,"i",26),l(2,"Guardar "),r()}}function gt(e,i){if(e&1){let a=h();o(0,"button",27),x("click",function(){v(a);let t=u(2);return _(t.chamgeStateBtnName(2))}),s(1,"i",28),l(2,"Cancelar "),r()}}function vt(e,i){if(e&1&&(o(0,"div",2),s(1,"app-menu-rutas-profile",3),o(2,"div",4)(3,"h2",5),l(4,"Domicilio de entrega"),r(),o(5,"form",6)(6,"div",7)(7,"label",8),l(8,"Codigo postal"),r(),f(9,lt,1,1,"input",9)(10,st,1,0,"input",10),r(),o(11,"div",7)(12,"label",8),l(13,"Estado"),r(),s(14,"input",11),r(),o(15,"div",7)(16,"label",8),l(17,"Municipio"),r(),s(18,"input",11),r(),o(19,"div",7)(20,"label",8),l(21,"Colonia"),r(),f(22,mt,1,1,"input",9)(23,pt,2,1,"select",12),r(),o(24,"div",7)(25,"label",8),l(26,"Referencia"),r(),f(27,ct,1,1,"input",9)(28,ut,1,0,"input",13),r(),o(29,"div",14),f(30,ft,3,0,"button",15)(31,bt,3,0,"button",16)(32,gt,3,0,"button",17),r()()(),s(33,"p-toast"),r()),e&2){let a=u();m(5),d("formGroup",a.ubicacionForm),m(4),d("ngIf",a.editName),m(),d("ngIf",!a.editName),m(4),d("value",a.ubicacionForm.controls.estado.value),m(4),d("value",a.ubicacionForm.controls.municipio.value),m(4),d("ngIf",a.editName),m(),d("ngIf",!a.editName),m(4),d("ngIf",a.editName),m(),d("ngIf",!a.editName),m(2),d("ngIf",a.editName),m(),d("ngIf",!a.editName),m(),d("ngIf",!a.editName)}}var Ce=(()=>{let i=class i{constructor(n,t,c){this.fb=n,this.profileService=t,this.messageService=c,this.isLoader=!0,this.editName=!0,this.dataForm={status:0,estado:"",municipio:"",cp:0,colonia:"",referencia:""},this.ubicacionForm=new B({estado:new C("",[p.required]),municipio:new C("",[p.required]),cp:new C("",[p.required]),colonia:new C("",[p.required]),referencia:new C("",[p.required])})}ngOnInit(){let n=localStorage.getItem("token");n!==null&&this.profileService.getDataUbicacion(n).subscribe(t=>{this.dataForm=t,this.ubicacionForm=this.fb.group({estado:[t.estado,[p.required]],municipio:[t.municipio,[p.required]],cp:[t.cp,[p.required,p.minLength(5),p.maxLength(5)]],colonia:[t.colonia,[p.required]],referencia:[t.referencia,[p.required]]}),this.profileService.getDataCopomex(t.cp).subscribe(c=>{this.dataByCopomex=c}),setTimeout(()=>{this.isLoader=!1},500)})}searchDataByCp(){this.ubicacionForm.controls.cp.valid&&this.profileService.getDataCopomex(this.ubicacionForm.controls.cp.value).subscribe(n=>{this.dataByCopomex=n,this.ubicacionForm.patchValue({estado:n.response.estado}),this.ubicacionForm.patchValue({municipio:n.response.municipio}),this.ubicacionForm.patchValue({colonia:n.response.asentamiento[0]})})}chamgeStateBtnName(n){return ae(this,null,function*(){switch(n){case 1:this.editName=!this.editName;break;case 2:this.editName=!this.editName,this.ubicacionForm.setValue({estado:this.dataForm.estado,municipio:this.dataForm.municipio,cp:this.dataForm.cp,colonia:this.dataForm.colonia,referencia:this.dataForm.referencia});break;case 3:let t=localStorage.getItem("token");t!==null&&this.profileService.updateUserUbicacion(t,this.ubicacionForm.value).subscribe(c=>{c.status===200&&(this.messageService.add({severity:"success",summary:"Informaci\xF3n",detail:"Datos actualizados correctamente"}),this.profileService.getDataUbicacion(t).subscribe(b=>{this.dataForm=b,this.ubicacionForm=this.fb.group({estado:[b.estado,[p.required]],municipio:[b.municipio,[p.required]],cp:[b.cp,[p.required,p.minLength(5),p.maxLength(5)]],colonia:[b.colonia,[p.required]],referencia:[b.referencia,[p.required]]})}),this.editName=!this.editName)});break}})}};i.\u0275fac=function(t){return new(t||i)(g(A),g(F),g(k))},i.\u0275cmp=y({type:i,selectors:[["app-data-envio"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","flex justify-between",4,"ngIf"],[1,"flex","justify-between"],[1,"bg-white","py-5","pl-4","w-1/5"],[1,"bg-white","w-3/5","px-5","py-5","rounded-md","shadow-lg","my-5"],[1,"text-3xl"],[1,"grid",3,"formGroup"],[1,"mb-5"],["for",""],["type","text","disabled","","class","border-t-0 border-x-0 border-b-1 w-full border-b-gray-200",3,"value",4,"ngIf"],["type","text","formControlName","cp","class","border-t-0 border-x-0 border-b-1 w-full border-b-gray-200",3,"keyup",4,"ngIf"],["type","text","disabled","",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200",3,"value"],["formControlName","colonia","name","colonia","id","colonia","class","border-t-0 border-x-0 border-b-1 w-full border-b-gray-200",4,"ngIf"],["type","text","formControlName","referencia","class","border-t-0 border-x-0 border-b-1 w-full border-b-gray-200",4,"ngIf"],[1,"mb-3","flex","justify-end","gap-3"],["pButton","","class","bg-red-500 gap-1",3,"click",4,"ngIf"],["pButton","","class","bg-blue-500 gap-1",3,"click",4,"ngIf"],["pButton","","class","bg-yellow-500 gap-1",3,"click",4,"ngIf"],["type","text","formControlName","cp",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200",3,"keyup"],["formControlName","colonia","name","colonia","id","colonia",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","formControlName","referencia",1,"border-t-0","border-x-0","border-b-1","w-full","border-b-gray-200"],["pButton","",1,"bg-red-500","gap-1",3,"click"],[1,"pi","pi-pencil"],["pButton","",1,"bg-blue-500","gap-1",3,"click"],[1,"pi","pi-save"],["pButton","",1,"bg-yellow-500","gap-1",3,"click"],[1,"pi","pi-times-circle"]],template:function(t,c){t&1&&f(0,at,1,0,"app-loader",0)(1,vt,34,12,"div",1),t&2&&(d("ngIf",c.isLoader),m(),d("ngIf",!c.isLoader))},dependencies:[K,w,q,U,j,V,$,T,L,P,M,E,O,I,G]});let e=i;return e})();var _t=[{path:"profile/:id",component:ge},{path:"profile/:id/personal",component:_e},{path:"profile/:id/cuenta",component:he},{path:"profile/:id/seguridad",component:xe},{path:"profile/:id/ubicacion",component:Ce},{path:"profile/:id/mis-compras",component:ve}],ye=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=J({type:i}),i.\u0275inj=H({imports:[re.forChild(_t),re]});let e=i;return e})();var ni=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=J({type:i}),i.\u0275inj=H({imports:[de,ye,ue,fe,be]});let e=i;return e})();export{ni as ProfileModule};
