import{a as P,d as ce}from"./chunk-MMP27SLI.js";import"./chunk-P3Z6LA3E.js";import{a as y}from"./chunk-SM2B2YZU.js";import{$ as E,$a as de,Aa as O,C as h,Ca as H,D as s,G as t,Ga as K,H as e,Ha as Q,I as m,J as w,Ja as W,K as g,L as p,La as X,Ma as Y,N as L,Oa as Z,Pa as ee,Qa as te,Ra as ie,S as r,Sa as re,T as v,Ta as oe,U as b,Ua as ne,V as A,Wa as ae,Ya as le,aa as I,ba as G,g as V,ha as k,ja as F,k as S,ka as T,l as M,la as $,n as z,na as q,o as x,p as _,qa as J,ra as N,t as C,x as c,y as f}from"./chunk-I4SIAQ55.js";function _e(n,d){n&1&&m(0,"app-loader")}function be(n,d){n&1&&(t(0,"div",6),m(1,"img",7),t(2,"h3",8),r(3,"Ohhhh! Parece que no tienes productos en tu carrito"),e(),t(4,"p",9)(5,"span"),r(6,"Pulsa aqui y descubre increibles productos!!!"),e()()())}function Ce(n,d){if(n&1){let o=w();t(0,"div",21),m(1,"img",22),t(2,"div",23)(3,"div",24)(4,"p"),r(5),e(),t(6,"p",25),g("click",function(){let l=x(o).$implicit,u=p(4);return _(u.deleteProductByCard(l.id))}),r(7,"Eliminar"),e(),t(8,"div",26)(9,"input",27),g("click",function(){let l=x(o).$implicit,u=p(4);return _(u.changeCantidad("-",l.id))}),e(),t(10,"p"),r(11),e(),t(12,"input",28),g("click",function(){let l=x(o).$implicit,u=p(4);return _(u.changeCantidad("+",l.id))}),e()()(),t(13,"div",29)(14,"p"),r(15,"Precio:"),e(),t(16,"p"),r(17),e(),t(18,"p"),r(19,"stock:"),e(),t(20,"p"),r(21),e()()()()}if(n&2){let o=d.$implicit;c(),s("src",o.product.imagen[0].url_imagen,C)("alt",o.product.nombre_producto),c(4),v(o.product.nombre_producto),c(4),s("disabled",o.cantidad<=1),c(2),v(o.cantidad),c(),s("disabled",o.cantidad===o.product.stock),c(5),b("$",o.product.precio,""),c(4),v(o.product.stock)}}function Se(n,d){if(n&1){let o=w();t(0,"div",14),h(1,Ce,22,8,"div",15),m(2,"hr",16),t(3,"div",17)(4,"p"),r(5,"Total:"),e(),t(6,"p"),r(7),e()(),t(8,"div",18)(9,"button",19),r(10,"Seguir comprando"),e(),t(11,"button",20),g("click",function(){x(o);let i=p(3);return _(i.comprarCard())}),r(12,"Proceder al pago"),e()()()}if(n&2){let o=p(3);c(),s("ngForOf",o.productsCard.detallesCarrito),c(6),b("$",o.total,"")}}function ye(n,d){n&1&&(t(0,"div",14)(1,"h3"),r(2,"Ingresar"),e()())}function we(n,d){if(n&1&&(t(0,"div",10)(1,"div",11)(2,"h2",12),r(3,"Resumen de compra"),e()(),h(4,Se,13,2,"div",13)(5,ye,3,0,"div",13),e()),n&2){let o=p(2);c(4),s("ngIf",!o.islogin),c(),s("ngIf",o.islogin)}}function Ee(n,d){if(n&1&&(t(0,"div",2)(1,"div",3),h(2,be,7,0,"div",4)(3,we,6,2,"div",5),e()()),n&2){let o=p();c(2),s("ngIf",o.imgNotCard),c(),s("ngIf",!o.imgNotCard)}}var se=(()=>{let d=class d{constructor(a,i){this.producsService=a,this.mLoginService=i,this.productsCard={id:0,estado:0,detallesCarrito:[]},this.total=0,this.islogin=!1,this.imgNotCard=!0,this.isLoader=!0}ngOnInit(){let a=localStorage.getItem("token");a!==null?this.getProducts(a):setTimeout(()=>{this.isLoader=!1},500),this.islogin=this.mLoginService.checkLogin()}changeCantidad(a,i){switch(a){case"+":for(let l=0;l<this.productsCard.detallesCarrito.length;l++)this.productsCard.detallesCarrito[l].id===i&&(this.productsCard.detallesCarrito[l].cantidad+=1,this.producsService.changeCantidad({id:i,cantidad:this.productsCard.detallesCarrito[l].cantidad}).subscribe(u=>{console.log(u)}));break;case"-":for(let l=0;l<this.productsCard.detallesCarrito.length;l++)this.productsCard.detallesCarrito[l].id===i&&(this.productsCard.detallesCarrito[l].cantidad-=1,this.producsService.changeCantidad({id:i,cantidad:this.productsCard.detallesCarrito[l].cantidad}).subscribe(u=>{console.log(u)}));break}this.changeTotal()}getProducts(a){this.producsService.getProductByCard({id:parseInt(a)}).subscribe(i=>{if(this.productsCard=i,setTimeout(()=>{this.isLoader=!1},500),console.log(this.isLoader),i.detallesCarrito.length>=1){for(let l=0;l<this.productsCard.detallesCarrito.length;l++)this.total+=this.productsCard.detallesCarrito[l].product.precio*this.productsCard.detallesCarrito[l].cantidad;this.imgNotCard=!1,console.log(i)}else this.imgNotCard=!0})}changeTotal(){this.total=0;for(let a=0;a<this.productsCard.detallesCarrito.length;a++)this.total+=this.productsCard.detallesCarrito[a].product.precio*this.productsCard.detallesCarrito[a].cantidad}deleteProductByCard(a){this.producsService.deleteProductByCard({id:a}).subscribe(i=>{if(i.status===200){let l=localStorage.getItem("token");l!==null&&(this.total=0,this.getProducts(l))}console.log(i)})}comprarCard(){let a=[],i=localStorage.getItem("token");if(i!==null){for(let l=0;l<this.productsCard.detallesCarrito.length;l++)a.push({id:this.productsCard.detallesCarrito[l].product.id,title:this.productsCard.detallesCarrito[l].product.nombre_producto,precio:this.productsCard.detallesCarrito[l].product.precio,idUser:i,cantidad:this.productsCard.detallesCarrito[l].cantidad.toString(),idCard:this.productsCard.id.toString()});this.producsService.comprarProduct(a).subscribe(l=>{console.log(l),window.open(l.url)})}}};d.\u0275fac=function(i){return new(i||d)(f(y),f(O))},d.\u0275cmp=S({type:d,selectors:[["app-card"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","container mx-auto my-5",4,"ngIf"],[1,"container","mx-auto","my-5"],[1,"flex","justify-center"],["class","flex items-center flex-col text-4xl mb-5",4,"ngIf"],["class","bg-white p-5 rounded-lg shadow-lg w-full max-w-3xl",4,"ngIf"],[1,"flex","items-center","flex-col","text-4xl","mb-5"],["src","../../../../../assets/img/not_card2.png","alt","notFound",1,"rounded-md","w-2/4","p-0","m-0"],[1,"m-0","p-0"],["routerLink","/productos",1,"text-blue-500","hover:text-blue-700","cursor-pointer"],[1,"bg-white","p-5","rounded-lg","shadow-lg","w-full","max-w-3xl"],[1,"items-center","mb-5"],[1,"text-2xl","font-semibold"],["class","space-y-3",4,"ngIf"],[1,"space-y-3"],["class","flex justify-between ring-1 ring-orange-300 rounded-md py-1 px-3 shadow-lg gap-5",4,"ngFor","ngForOf"],[1,"border-1","border-orange-200"],[1,"flex","justify-between","items-center","text-lg","font-semibold"],[1,"flex","justify-between"],["routerLink","/productos",1,"bg-blue-500","text-white","py-2","px-4","rounded","border-none","cursor-pointer"],[1,"bg-orange-500","text-white","py-2","px-4","rounded","border-none","cursor-pointer",3,"click"],[1,"flex","justify-between","ring-1","ring-orange-300","rounded-md","py-1","px-3","shadow-lg","gap-5"],[1,"h-36","w-32","rounded-md",3,"src","alt"],[1,"flex","justify-between","w-full"],[1,""],[1,"text-red-500","cursor-pointer",3,"click"],[1,"flex","items-center","gap-2"],["type","button","value","-",1,"bg-red-500","border-none","px-3","rounded-sm","text-lg","hover:bg-red-600","hover:shadow-lg","cursor-pointer",3,"disabled","click"],["type","button","value","+",1,"bg-orange-500","border-none","px-3","rounded-sm","text-lg","hover:bg-orange-600","hover:shadow-lg","cursor-pointer",3,"disabled","click"],[1,"text-center"]],template:function(i,l){i&1&&h(0,_e,1,0,"app-loader",0)(1,Ee,4,2,"div",1),i&2&&(s("ngIf",l.isLoader),c(),s("ngIf",!l.isLoader))},dependencies:[E,I,T,P],styles:["hr[_ngcontent-%COMP%]{color:orange}"]});let n=d;return n})();function Ie(n,d){n&1&&m(0,"app-loader")}function Pe(n,d){n&1&&(t(0,"div",16)(1,"label",17),r(2,"Blusas"),e(),m(3,"input",34),e())}function ke(n,d){n&1&&(t(0,"div",16)(1,"label",17),r(2,"Faldas"),e(),m(3,"input",35),e())}function Fe(n,d){n&1&&(t(0,"div",16)(1,"label",17),r(2,"Vestidos"),e(),m(3,"input",36),e())}function Te(n,d){if(n&1&&(t(0,"div",37),m(1,"img",38),t(2,"h2",39),r(3),e(),t(4,"p",40),r(5),e(),t(6,"div",41)(7,"p",42),r(8),e()()()),n&2){let o=d.$implicit;c(),s("src",o.imagen[0].url_imagen,C)("alt",o.nombre_producto),c(),L("routerLink","/view/",o.id,""),c(),v(o.nombre_producto),c(2),v(o.descripccion),c(3),b("$",o.precio,"")}}function je(n,d){if(n&1){let o=w();t(0,"div",2)(1,"form",3)(2,"label",4),r(3,"Ordenar por:"),e(),t(4,"select",5),g("ngModelChange",function(i){x(o);let l=p();return _(l.ordenarPorPrecio=i)})("ngModelChange",function(){x(o);let i=p();return _(i.ordenarProductosPorPrecio())}),t(5,"option",6),r(6,"Mayor precio"),e(),t(7,"option",7),r(8,"Menor precio"),e()()(),t(9,"div",8)(10,"div",9)(11,"div",10)(12,"p",11),r(13,"Filtrar por:"),e(),t(14,"form",12)(15,"div",13)(16,"p",14),r(17,"Genero:"),e(),t(18,"div",15)(19,"div",16)(20,"label",17),r(21,"Dama"),e(),m(22,"input",18),e(),t(23,"div",16)(24,"label",17),r(25,"Caballero"),e(),m(26,"input",19),e()()(),t(27,"div")(28,"p",14),r(29,"Tipo:"),e(),t(30,"div",15),h(31,Pe,4,0,"div",20)(32,ke,4,0,"div",20)(33,Fe,4,0,"div",20),t(34,"div",16)(35,"label",17),r(36,"Pantalones"),e(),m(37,"input",21),e(),t(38,"div",16)(39,"label",17),r(40,"Playeras"),e(),m(41,"input",22),e(),t(42,"div",16)(43,"label",17),r(44,"Jeans"),e(),m(45,"input",23),e(),t(46,"div",16)(47,"label",17),r(48,"Shorts"),e(),m(49,"input",24),e(),t(50,"div",16)(51,"label",17),r(52,"Sudaderas"),e(),m(53,"input",25),e(),t(54,"div",16)(55,"label",17),r(56,"Camisas"),e(),m(57,"input",26),e(),t(58,"div",16)(59,"label",17),r(60,"Polos"),e(),m(61,"input",27),e(),t(62,"div",16)(63,"label",17),r(64,"Su\xE9teres"),e(),m(65,"input",28),e()()(),t(66,"div",29)(67,"button",30),g("click",function(){x(o);let i=p();return _(i.filtrarProducts())}),e(),t(68,"button",31),g("click",function(){x(o);let i=p();return _(i.cleanFilters())}),e()()()(),t(69,"div",32),h(70,Te,9,6,"div",33),e()()()()}if(n&2){let o=p();c(4),s("ngModel",o.ordenarPorPrecio),c(10),s("formGroup",o.formFilter),c(17),s("ngIf",o.formFilter.controls.dama.value&&!o.formFilter.controls.caballero.value),c(),s("ngIf",o.formFilter.controls.dama.value&&!o.formFilter.controls.caballero.value),c(),s("ngIf",o.formFilter.controls.dama.value&&!o.formFilter.controls.caballero.value),c(37),s("ngForOf",o.products)}}var pe=(()=>{let d=class d{constructor(a,i){this.productService=a,this.fb=i,this.layout="list",this.isLoader=!0,this.formFilter=this.fb.group({dama:[!1],caballero:[!1],pantalon:[!1],playera:[!1],blusa:[!1],falda:[!1],vestido:[!1],jean:[!1],short:[!1],sudadera:[!1],camisa:[!1],polo:[!1],sueter:[!1]}),this.ordenarPorPrecio="asc"}ngOnInit(){this.productService.getProducts().subscribe(a=>{this.products=a,console.log(a),setTimeout(()=>{this.isLoader=!1},500)})}ordenarProductosPorPrecio(){this.ordenarPorPrecio==="asc"?this.products.sort((a,i)=>a.precio-i.precio):this.products.sort((a,i)=>i.precio-a.precio)}cleanFilters(){this.formFilter.reset(),this.productService.getProducts().subscribe(a=>{this.products=a})}filtrarProducts(){if(!this.formFilter.controls.pantalon.value&&!this.formFilter.controls.playera.value&&!this.formFilter.controls.blusa.value&&!this.formFilter.controls.falda.value&&!this.formFilter.controls.caballero.value&&!this.formFilter.controls.dama.value&&!this.formFilter.controls.vestido.value&&!this.formFilter.controls.jean.value&&!this.formFilter.controls.short.value&&!this.formFilter.controls.sudadera.value&&!this.formFilter.controls.camisa.value&&!this.formFilter.controls.polo.value&&!this.formFilter.controls.sueter.value)return;let a=[this.formFilter.controls.pantalon.value?"Pantalon":"",this.formFilter.controls.playera.value?"Playera":"",this.formFilter.controls.blusa.value?"Blusa":"",this.formFilter.controls.falda.value?"Falda":"",this.formFilter.controls.vestido.value?"Vestido":"",this.formFilter.controls.jean.value?"Jean":"",this.formFilter.controls.short.value?"Short":"",this.formFilter.controls.sudadera.value?"Sudadera":"",this.formFilter.controls.camisa.value?"Camisa":"",this.formFilter.controls.polo.value?"Polo":"",this.formFilter.controls.sueter.value?"Sueter":""],i={dama:this.formFilter.controls.dama.value,caballero:this.formFilter.controls.caballero.value,datos:a};this.productService.getProductsByFilter(i).subscribe(l=>{this.products=[],this.products=l,console.log(l)})}};d.\u0275fac=function(i){return new(i||d)(f(y),f(oe))},d.\u0275cmp=S({type:d,selectors:[["app-products"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","my-4 mr-3",4,"ngIf"],[1,"my-4","mr-3"],["action","",1,"flex","justify-end","mb-3","items-center","gap-3"],["for","orden"],["name","ordenarPor","id","",1,"rounded-lg","border-none",3,"ngModel","ngModelChange"],["value","desc"],["value","asc"],[1,"mx-auto"],[1,"flex","flex-col","md:flex-row","md:justify-between","gap-3"],[1,"bg-white","w-1/5","rounded-md","py-2","px-5"],[1,"text-xl","font-bold"],[1,"",3,"formGroup"],[1,"mb-3"],[1,"font-bold"],[1,"flex","flex-col","gap-1"],[1,"ml-2","flex","justify-between"],["for",""],["formControlName","dama","type","checkbox","name","dama","id","dama",1,"ring-1","rounded-sm"],["formControlName","caballero","type","checkbox","name","caballero","id","caballero",1,"ring-1","rounded-sm"],["class","ml-2 flex justify-between",4,"ngIf"],["formControlName","pantalon","type","checkbox","name","pantalon","id","pantalon",1,"ring-1","rounded-sm"],["formControlName","playera","type","checkbox","name","playera","id","playera",1,"ring-1","rounded-sm"],["formControlName","jean","type","checkbox","name","falda","id","falda",1,"ring-1","rounded-sm"],["formControlName","short","type","checkbox","name","falda","id","falda",1,"ring-1","rounded-sm"],["formControlName","sudadera","type","checkbox","name","falda","id","falda",1,"ring-1","rounded-sm"],["formControlName","camisa","type","checkbox","name","falda","id","falda",1,"ring-1","rounded-sm"],["formControlName","polo","type","checkbox","name","falda","id","falda",1,"ring-1","rounded-sm"],["formControlName","sueter","type","checkbox","name","falda","id","falda",1,"ring-1","rounded-sm"],[1,""],["pButton","","label","filtrar",1,"w-full","text-center","bg-blue-600","mt-4",3,"click"],["pButton","","label","Limpiar filtros",1,"w-full","text-center","bg-red-500","mt-2",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-5","w-4/5"],["class","bg-white p-5 rounded-lg shadow-md",4,"ngFor","ngForOf"],["formControlName","blusa","type","checkbox","name","blusa","id","blusa",1,"ring-1","rounded-sm"],["formControlName","falda","type","checkbox","name","falda","id","falda",1,"ring-1","rounded-sm"],["formControlName","vestido","type","checkbox","name","falda","id","falda",1,"ring-1","rounded-sm"],[1,"bg-white","p-5","rounded-lg","shadow-md"],[1,"w-full","h-72","object-cover","mb-3",3,"src","alt"],[1,"text-xl","font-semibold","cursor-pointer",3,"routerLink"],[1,"text-gray-500"],[1,"flex","justify-between","items-center","mt-5"],[1,"text-lg","font-semibold"]],template:function(i,l){i&1&&h(0,Ie,1,0,"app-loader",0)(1,je,71,6,"div",1),i&2&&(s("ngIf",l.isLoader),c(),s("ngIf",!l.isLoader))},dependencies:[E,I,T,J,Y,ie,re,H,te,K,Q,X,W,P,Z,ee],styles:[".product[_ngcontent-%COMP%]{height:450px}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}"]});let n=d;return n})();function Ve(n,d){n&1&&m(0,"app-loader")}function Me(n,d){if(n&1){let o=w();t(0,"img",28),g("mousemove",function(){let l=x(o).$implicit,u=p(2);return _(u.changeImgCarrucel(l.id))}),e()}if(n&2){let o=d.$implicit;s("src",o.url_imagen,C)}}function Le(n,d){if(n&1&&(t(0,"div",31)(1,"div",32)(2,"p"),r(3),e(),t(4,"p"),r(5),e()(),t(6,"p"),r(7),e(),m(8,"hr"),e()),n&2){let o=d.$implicit;c(3),v(o.usuario),c(2),v(o.fecha),c(2),b(" ",o.comentario," ")}}function Ne(n,d){if(n&1&&(t(0,"div",29),h(1,Le,9,3,"div",30),e()),n&2){let o=p(2);c(),s("ngForOf",o.product.comentarios)}}function Oe(n,d){n&1&&(t(0,"div",33),m(1,"img",34),e())}function Be(n,d){if(n&1){let o=w();t(0,"div")(1,"div",1)(2,"div",2)(3,"div",3),h(4,Me,1,1,"img",4),e(),t(5,"div",5),m(6,"img",6),e()(),t(7,"div",7)(8,"h2",8),r(9),e(),m(10,"p-rating",9),t(11,"div",10)(12,"div",11)(13,"p",12)(14,"b"),r(15),e(),t(16,"i",13),r(17,"$150.00"),e()(),t(18,"p",14),r(19," Envios a toda la republica mexicana "),e(),t(20,"p"),r(21),e(),t(22,"p"),r(23,"Costo de envio: "),t(24,"b"),r(25,"$99.00"),e()(),t(26,"p"),r(27,"Stock disponible: "),t(28,"b"),r(29),e()(),t(30,"p"),r(31,"\xA1Compralo ahora!"),e(),t(32,"div",15)(33,"button",16),g("click",function(){x(o);let i=p();return _(i.changeCantidad("-"))}),r(34,"-"),e(),t(35,"p"),r(36),e(),t(37,"button",17),g("click",function(){x(o);let i=p();return _(i.changeCantidad("+"))}),r(38,"+"),e()(),t(39,"div",18)(40,"p-button",19),g("click",function(){x(o);let i=p();return _(i.comprarProduct())}),r(41,"Comprar"),e(),t(42,"p-button",20),g("click",function(){x(o);let i=p();return _(i.addProductToCard())}),r(43,"Agregar al carrito"),e(),m(44,"p-toast"),e()()()()(),t(45,"div",21)(46,"h2",22),r(47,"Detalle del producto"),e(),t(48,"div",23)(49,"ul")(50,"li")(51,"b"),r(52,"Genero:"),e(),r(53," Hombre"),e(),t(54,"li")(55,"b"),r(56,"Material del producto:"),e(),r(57," Algodon"),e(),t(58,"li")(59,"b"),r(60,"Talla:"),e(),r(61," 28"),e()(),t(62,"p",24),r(63),e()()(),t(64,"div",25)(65,"h2",22),r(66,"Opiniones de compradores"),e(),h(67,Ne,2,1,"div",26)(68,Oe,2,0,"div",27),e()()}if(n&2){let o=p();c(4),s("ngForOf",o.product.imagen),c(2),s("src",o.imagenCarrucel,C),c(3),v(o.product.nombre_producto),c(),s("cancel",!1)("disabled",!0),c(5),b("$",o.product.precio," "),c(6),b("Descuento de: ",o.product.descuento,"%"),c(8),b("",o.product.stock," pzas"),c(4),s("disabled",o.cantidad===1),c(3),v(o.cantidad),c(),s("disabled",o.cantidad===o.product.stock),c(26),b(" ",o.product.descripccion," "),c(4),s("ngIf",o.product.comentarios.length!==0),c(),s("ngIf",o.product.comentarios.length===0)}}var ue=(()=>{let d=class d{constructor(a,i,l,u,he){this.routerLink=a,this.productsService=i,this.router=l,this.messageService=u,this.loginService=he,this.product={id:0,nombre_producto:"",precio:0,descripccion:"",stock:0,categoria:"",rating:0,descuento:0,status:"",imagen:[],tipo:"",comentarios:[]},this.isLoader=!0,this.cantidad=1,this.imagenCarrucel="",this.imagenes=["https://www.esdesignbarcelona.com/sites/default/files/imagenes/haz-crecer-tu-marca-de-ropa-frente-la-competencia_1.jpg","https://www.clikisalud.net/wp-content/uploads/2018/07/el-importante-beneficio-de-usar-ropa-holgada.jpg","https://media.gq.com.mx/photos/6398d2adf773a1a8874e3a12/master/pass/mejor-ropa-de-hombre-en-2023.jpg"]}ngOnInit(){this.id=this.routerLink.snapshot.paramMap.get("id"),console.log(this.id),this.productsService.getProductById(this.id).subscribe(a=>{this.product=a,console.log("si llega"),setTimeout(()=>{this.isLoader=!1},500),this.imagenCarrucel=a.imagen[0].url_imagen})}addProductToCard(){let a=localStorage.getItem("token");if(a!==null){let i={cantidad:1,idProduct:parseInt(this.id),idUser:parseInt(a)};this.productsService.addProductToCard(i).subscribe(l=>{l.status===200?this.messageService.add({severity:"success",detail:"Producto agregado al carrito"}):l.status===409&&this.messageService.add({severity:"warn",detail:"El producto ya esta en el carrito"})})}else this.messageService.add({severity:"warn",detail:"Debes iniciar sesion para poder agregar al carrito"})}comprarProduct(){if(this.loginService.checkLogin())return this.messageService.add({severity:"warn",detail:"Debes iniciar sesion para poder comprar el producto"});this.router.navigate(["compra/",this.id]),localStorage.setItem("product",this.id),localStorage.setItem("cantidad",this.cantidad.toString())}changeCantidad(a){switch(a){case"+":this.cantidad++;break;case"-":this.cantidad--;break}}changeImgCarrucel(a){for(let i=0;i<this.product.imagen.length;i++)a===this.product.imagen[i].id&&(this.imagenCarrucel=this.product.imagen[i].url_imagen)}};d.\u0275fac=function(i){return new(i||d)(f(k),f(y),f(F),f(q),f(O))},d.\u0275cmp=S({type:d,selectors:[["app-view-product"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"flex","flex-col","lg:flex-row","mx-5","rounded-md","shadow-lg","p-3","my-5","gap-2","h-2/6"],[1,"flex","carrucel","w-full","sm:w-1/4"],[1,"w-full","md:w-1/6","h-40"],["alt","","class","w-full h-full rounded-md",3,"src","mousemove",4,"ngFor","ngForOf"],[1,"flex","justify-center","w-full","md:w-5/6","px-5"],["alt","",1,"h-screen","rounded-sm","w-full",3,"src"],[1,"container-datails","rounded-md","pl-4","pb-4","w-full","md:w-3/4"],[1,"lg:text-3xl"],[3,"cancel","disabled"],[1,"lg:h-3/4"],[1,"detalles"],[1,"text-4x1"],[1,"precio"],[1,"font-italic","text-green-500"],[1,"flex","gap-2","items-center"],[1,"bg-red-500","border-none","w-10","h-8","text-4xl","rounded-md","flex","justify-center","items-center","text-white","hover:bg-red-700",3,"disabled","click"],[1,"bg-blue-500","border-none","w-10","h-8","text-2xl","rounded-md","flex","justify-center","items-center","text-white","hover:bg-blue-700",3,"disabled","click"],[1,"flex"],["label","",1,"mr-2","hover:bg-blue-400","rounded-md",3,"click"],["styleClass","p-button-secondary","label","",3,"click"],[1,"p-3","pb-5","mb-5","rounded-md","mx-5","bg-white","shadow-3"],[1,"text-center","text-4xl"],[1,"lg:text-2xl"],[1,"px-5"],[1,"p-3","pb-5","mb-5","border-round","mx-5","bg-white","shadow-3"],["class","bg-white px-4",4,"ngIf"],["class","bg-white px-4 flex justify-center",4,"ngIf"],["alt","",1,"w-full","h-full","rounded-md",3,"src","mousemove"],[1,"bg-white","px-4"],["class","comentario",4,"ngFor","ngForOf"],[1,"comentario"],[1,"flex","justify-between"],[1,"bg-white","px-4","flex","justify-center"],["src","../../../../../assets/img/not_comments.jpg","alt","not-comments",1,"rounded-md","w-2/5"]],template:function(i,l){i&1&&h(0,Ve,1,0,"app-loader",0)(1,Be,69,14,"div",0),i&2&&(s("ngIf",l.isLoader),c(),s("ngIf",!l.isLoader))},dependencies:[E,I,N,le,ae,P],styles:[".container[_ngcontent-%COMP%]{background-color:#fff}.container-datails[_ngcontent-%COMP%]{border:.5px solid rgb(207,207,207);width:40%}.detalles[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}.precio[_ngcontent-%COMP%]{text-decoration:line-through}ul[_ngcontent-%COMP%]{list-style:none}li[_ngcontent-%COMP%]{margin-bottom:1rem}.carrucel[_ngcontent-%COMP%]{width:60%}"]});let n=d;return n})();var fe=(()=>{let d=class d{constructor(a,i,l){this.productService=a,this.router=i,this.routerLink=l,this.domicilio={id:0,estado:"",municipio:"",cp:0,colonia:"",referencia:""},this.cantidad=0,this.dataByback=[]}ngOnInit(){let a=localStorage.getItem("token"),i=localStorage.getItem("product"),l=localStorage.getItem("cantidad");a===null&&this.router.navigate(["404"]),i===null&&this.router.navigate(["404"]),this.idProduct=this.routerLink.snapshot.paramMap.get("id"),i!==this.idProduct&&this.router.navigate(["404"]),this.productService.getProductById(this.idProduct).subscribe(u=>{this.product=u,console.log(this.product)}),a!==null&&this.productService.getUbicacion(a).subscribe(u=>{this.domicilio=u}),l!==null&&(this.cantidad=parseInt(l))}compraProducto(){if(this.idProduct===""&&this.router.navigate(["/404"]),this.idProduct!==null){let a=localStorage.getItem("token"),i=localStorage.getItem("cantidad");if(a!==null&&i!==null){let l={id:this.product.id,title:this.product.nombre_producto,precio:this.product.precio,idUser:a,cantidad:i,idCard:"null"};this.dataByback.push(l),this.productService.comprarProduct(this.dataByback).subscribe(u=>{console.log(u),window.open(u.url),localStorage.removeItem("product"),localStorage.removeItem("cantidad"),this.idProduct="",this.router.navigate(["/view/"+this.dataByback[0].id])})}}}cancellCompra(){localStorage.removeItem("product"),localStorage.removeItem("cantidad"),this.router.navigate(["/view",this.idProduct])}};d.\u0275fac=function(i){return new(i||d)(f(y),f(F),f(k))},d.\u0275cmp=S({type:d,selectors:[["app-screen-compra"]],decls:38,vars:8,consts:[[1,"flex","justify-center","p-10"],[1,"bg-white","w-3/5","px-20","rounded-md","pb-10"],[1,"text-center","text-3xl"],[1,"flex","justify-center"],[1,"h-40","rounded-md",3,"src","alt"],[1,"grid","grid-cols-2"],[1,"text-md"],[1,"text-md","flex","justify-end"],[1,"flex","flex-col"],[1,"flex","justify-end","gap-2","md:justify-between"],["label","Cancelar","severity","danger",3,"click"],["label","Confirmar","severity","primary",3,"click"]],template:function(i,l){i&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Detalles compra"),e(),t(4,"div",3),m(5,"img",4),e(),t(6,"div",5)(7,"div",6)(8,"p")(9,"strong"),r(10,"Producto: "),e(),r(11),e(),t(12,"p")(13,"strong"),r(14,"Piezas: "),e(),r(15),e(),t(16,"p")(17,"strong"),r(18,"Domicilio de entrega:"),e(),m(19,"br"),r(20),e()(),t(21,"div",7)(22,"div",8)(23,"p")(24,"strong"),r(25,"Precio: "),e(),r(26),e(),t(27,"p")(28,"strong"),r(29,"Envio: "),e(),r(30,"$99.00"),e(),t(31,"p")(32,"strong"),r(33,"Total: "),e(),r(34),e()()()(),t(35,"div",9)(36,"p-button",10),g("click",function(){return l.cancellCompra()}),e(),t(37,"p-button",11),g("click",function(){return l.compraProducto()}),e()()()()),i&2&&(c(5),s("src",l.product.imagen[0].url_imagen,C)("alt",l.product.nombre_producto),c(6),v(l.product.nombre_producto),c(4),v(l.cantidad),c(5),A(" ",l.domicilio.municipio+" "+l.domicilio.estado+","+l.domicilio.colonia+","+l.domicilio.cp,".Referencia: ",l.domicilio.referencia," "),c(6),b("$",l.product.precio,""),c(8),b("$",l.product.precio*l.cantidad,""))},dependencies:[N]});let n=d;return n})();function De(n,d){n&1&&m(0,"app-loader")}function $e(n,d){if(n&1&&(t(0,"div",4),m(1,"img",5),t(2,"h2",6),r(3),e(),t(4,"p",7),r(5),e(),t(6,"div",8)(7,"p",9),r(8),e()()()),n&2){let o=d.$implicit;c(),s("src",o.imagen[0].url_imagen,C)("alt",o.nombre_producto),c(),L("routerLink","/view/",o.id,""),c(),v(o.nombre_producto),c(2),v(o.descripccion),c(3),b("$",o.precio,"")}}function Ue(n,d){if(n&1&&(t(0,"div",2),h(1,$e,9,6,"div",3),e()),n&2){let o=p();c(),s("ngForOf",o.products)}}var ge=(()=>{let d=class d{constructor(a,i,l){this.activate=a,this.productsService=i,this.router=l,this.isLoader=!0}ngOnChanges(a){console.log("cambios")}ngOnInit(){console.log("entrs"),this.activate.params.subscribe(a=>{this.gender=a.gender,this.tipo=a.category,this.productsService.getProductsByGender(this.gender,this.tipo).subscribe(i=>{this.products=i,console.log(this.products),setTimeout(()=>{this.isLoader=!1},500)})})}};d.\u0275fac=function(i){return new(i||d)(f(k),f(y),f(F))},d.\u0275cmp=S({type:d,selectors:[["app-products-filter"]],features:[z],decls:2,vars:2,consts:[[4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 my-10 mx-10",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-5","my-10","mx-10"],["class","bg-white p-5 rounded-lg shadow-md",4,"ngFor","ngForOf"],[1,"bg-white","p-5","rounded-lg","shadow-md"],[1,"w-full","h-72","object-cover","mb-3",3,"src","alt"],[1,"text-xl","font-semibold","cursor-pointer",3,"routerLink"],[1,"text-gray-500"],[1,"flex","justify-between","items-center","mt-5"],[1,"text-lg","font-semibold"]],template:function(i,l){i&1&&h(0,De,1,0,"app-loader",0)(1,Ue,2,1,"div",1),i&2&&(s("ngIf",l.isLoader),c(),s("ngIf",!l.isLoader))},dependencies:[E,I,T,P]});let n=d;return n})();var Re=[{path:"carrito",component:se},{path:"productos",component:pe},{path:"view/:id",component:ue},{path:"compra/:id",component:fe},{path:"productos/gender/:gender/category/:category",component:ge}],ve=(()=>{let d=class d{};d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=M({type:d}),d.\u0275inj=V({imports:[$.forChild(Re),$]});let n=d;return n})();var _t=(()=>{let d=class d{};d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=M({type:d}),d.\u0275inj=V({imports:[G,ve,de,ce,ne]});let n=d;return n})();export{_t as ProductsModule};
