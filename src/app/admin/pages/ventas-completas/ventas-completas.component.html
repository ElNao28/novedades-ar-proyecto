<div class="px-10 py-5">
  <div class="py-2 px-2">
    <h3 class="text-center text-2xl font-bold bg-white p-2 rounded-md shadow-lg">Ventas concretadas</h3>
    <div class="my-2 flex justify-end items-center gap-2">
      <label for="order">Ordenar por</label>
      <select class="rounded-md border-none" name="orden" id="orden" [(ngModel)]="order" (ngModelChange)="orderVentas()">
        <option value="desc">Mas recientes</option>
        <option value="asc">Mas antiguas</option>
      </select>
    </div>
    <div *ngFor="let item of ventas" class="px-2 bg-white py-2 rounded-sm mb-5">
      <div>
          <div>
            <h3 class="">Detalles de la venta</h3>
          </div>
          <div class="flex justify-between px-5 items-end">
            <div class="flex flex-col gap-2">
              <div>
                <span class="font-semibold text-gray-800 text-md">Fecha de la venta: </span>
                <i class="font-semibold text-gray-600 text-sm">{{item.fecha_venta}}</i>
              </div>
              <div>
                <span class="font-semibold text-gray-800 text-md">Fecha de la entrega: </span>
                <i class="font-semibold text-gray-600 text-sm">{{item.envio.fecha_entrega}}</i>
              </div>
            </div>
            <div>
              <span>Codigo de ratreo: </span>
              <a target="_blank" href="https://www.fedex.com/fedextrack/?trknbr={{item.envio.numero_guia}}" class="font-semibold text-blue-400 text-sm hover:text-blue-500">{{item.envio.numero_guia}}</a>
            </div>
          </div>
        <ul class="grid grid-cols-5 text-center text-white py-1 bg-gray-800 text-sm">
          <li>Productos</li>
          <li>Precio</li>
          <li>Descuento</li>
          <li>Cantidad</li>
          <li>Total</li>
        </ul>
        <ul class="grid grid-cols-5 text-center text-gray-600" *ngFor="let data of item.detallesVenta">
          <li class="capitalize">{{data.producto.nombre_producto}}</li>
          <li>{{data.precio}}</li>
          <li>{{data.descuento}}</li>
          <li>{{data.cantidad}}</li>
          <li>{{data.precio * data.cantidad}}</li>
        </ul>
      </div>
      <hr>
      <div class="flex justify-between">

        <div class="mb-2">
          <span class="font-semibold text-gray-800">Datos del comprador: </span>
          <div class="flex flex-col gap-1 text-sm">
            <span class="text-gray-600 capitalize">Nombre: {{item.usuario.name +" " + item.usuario.lastname + " " +
              item.usuario.motherLastname}}</span>
            <span class="text-gray-600">Telefono: {{item.usuario.cellphone}}</span>
            <span class="text-gray-600">Email: {{item.usuario.email}}</span>
            <span class="text-gray-600">
              Direccion: {{
              item.usuario.ubicacion.municipio
              + ", " +
              item.usuario.ubicacion.estado
              + ", col. " +
              item.usuario.ubicacion.colonia
              }}
            </span>
            <span class="text-gray-600">Codigo postal: {{item.usuario.ubicacion.cp}}</span>
            <span class="text-gray-600">Referencia: {{item.usuario.ubicacion.referencia}}</span>
          </div>
        </div>
      </div>
    </div>



  </div>
</div>
