<!--Este div engloba los formularios de correo, token y pregunta secreta-->
<div *ngIf="yaquedo" class="m-3 flex justify-content-center">

  <!--Primer formulario en el cual se ingresa el correo electronico-->
  <div class="md:w-4 px-5 pb-5 bg-white shadow-6 border-round" *ngIf="!validStatus">
    <h2>Recuperar contraseña</h2>
    <app-layout-form
      [dataForm]="formEmail"
      [datosForm]="datosFormEmail">
    </app-layout-form>
    <div class="mt-3">
      <p-button
      *ngIf="caseBtnRec"
        (click)="verifEmail()"
        [disabled]="validButton()"
        type="submit" styleClass="mr-2 p-button-secondary"
        label="Recuperar contraseña">
      </p-button>
      <p-button
      *ngIf="!caseBtnRec"
        type="submit" styleClass="mr-2 p-button-secondary"
        label="Verificando correo...">
      </p-button>
      <p-button
        routerLink="/user/login"
        styleClass="mr-2"
        label="Cancelar">
      </p-button>
    </div>
  </div>

  <!-- Este div engloba el formulario de ingresar el codigo enviado por correo y la nueva contraseña-->
  <div *ngIf="validStatus" class="px-5 pb-5 bg-white shadow-6 border-round">
    <h2>Recuperar contraseña</h2>

      <app-layout-form *ngIf="!validCode"
        [dataForm]="formCode"
        [datosForm]="datosFormToken">
      </app-layout-form>
      <div *ngIf="!validCode" class="mt-3">
        <p-button
          (click)="validatedCode()"
          [disabled]="validButtonCode()"
          type="submit" styleClass="mr-2 p-button-secondary"
          label="Verificar">
        </p-button>
      </div>

      <app-layout-form
      *ngIf="validCode"
      [dataForm]="formNewPassword"
      [datosForm]="datosFormPassword">
      </app-layout-form>
      <div class="mt-3">
        <p-button
        type="submit"
        styleClass="mr-2 p-button-secondary"
        [disabled]="validUpdate()"
        label="Actualizar contraseña"
        (click)="updatePassword()">
        </p-button>
      </div>
  </div>
</div>
